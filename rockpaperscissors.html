<!DOCTYPE html>
<html>
<head>

	<meta charset="utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<title>RoShamBo</title>
	
</head>
<body>
	
	<div class= "jumbotron">
		<section class= row>
			<p class="col-md-4"></p>
			<p class="col-md-4"> Press r, p, or s to start playing!</p>
			<p class="col-md-4"></p>
		</section>
	</div>
	<div id="display_here"></div>
	<div class="col-md-12">
		<div class="col-md-6" id="player_choice"></div>
		<div class="col-md-6" id="comp_choice"></div>	
	</div>
	<div id="game"></div>

	<script type="text/javascript">
		
		//Declaration of the variables.
		var computerChoice =  Math.floor(Math.random() * 3);
		var wins = 0;
		var losses = 0;
		var ties = 0;
	 // <!--A key event listener waits for player to select R, P, or S assigned to Rock Paper or Scissors. 
	 // Computer chooses random values of R, P, or S. 
		document.addEventListener("keyup", function (e) {
		//Ensures the computer variable will run with each iteration of the game.
		computerChoice =  Math.floor(Math.random() * 3);
	 	// <!--Displays which selector was input by user.
		if (e.keyCode == 80) {
			displayChoice("paper", 'player_choice', 'y');
			var userChoice = "paper";
			//alert("You chose Paper");
		} else if (e.keyCode == 82) {
			displayChoice("rock", 'player_choice', 'y');
			var userChoice = "rock";
			//alert("You chose Rock");
		} else if (e.keyCode == 83) {
			displayChoice("scissors", 'player_choice', 'y');
			var userChoice = "scissors";
			//alert("You chose Scissors");
		} else {
			alert("You chose not to play");
		}	
		//Displays images to represent user and computer choices.
		function displayChoice(userChoice, elementId, player) {
    		var outputUser = document.getElementById("display_here");
    		outputUser.innerHTML = "";

    		var links = {}
    		if(player == 'y') {
				links = {
        			paper: "./paper.jpg",
        			rock: "./rock.jpg",
        			scissors: "./scissors.jpg",
    			};
    		}
    		else {
    			links = {
        			paper: "./papercomputer.jpg",
        			rock: "./rockcomputer.jpg",
        			scissors: "./scissorscomputer.jpg",
    			};	
    		}

    		//var choices = ["Paper", "Rock", "Scissors"];
    		//var sentence = "<p>You picked " + choices[userChoice] + ".</p>"
    		var sentence = "<p>You picked " + userChoice + ".</p>"
    		var img = '<br><img src="' + links[userChoice] + '">';

			var output = document.getElementById(elementId);
    		output.innerHTML = sentence + img;	
		}

		// Displays which random function was generated by computer.-->
		if (computerChoice == 0) {
			displayChoice("rock", 'comp_choice', 'n');
			computerChoice = "rock";
			//alert("Your opponent chose Rock");
		} else if (computerChoice == 1) {
			displayChoice("paper", 'comp_choice', 'n');
			computerChoice ="paper";
			//alert("Your opponent chose Paper");
		} else if (computerChoice == 2) {
			displayChoice("scissors", 'comp_choice', 'n');
			computerChoice = "scissors";
			//alert("Your opponent chose Scissors");
		}
		// <!--Each of these three tallies based on 3 sections of if/then statements each-->
		if (((userChoice == "paper" && computerChoice == "rock") 
			|| userChoice == "scissors" && computerChoice == "paper") 
			|| (userChoice == "rock" && computerChoice == "scissors")) {
			//alert("You win!");
			wins++; console.log(wins)
		} else if ((userChoice == "rock" && computerChoice == "rock") 
			|| (userChoice == "paper" && computerChoice == "paper") 
			||(userChoice == "scissors" && computerChoice == "scissors")) {
			//alert("It's a tie!");
			ties++;
		} else if ((userChoice = "scissors" && computerChoice == "rock") 
			||(userChoice = "rock" && computerChoice == "paper") 
			|| (userChoice = "paper" && computerChoice == "scissors")) {
			//alert("You lost!");
			losses++;
		}

		var html ="<p>Wins: " + wins + "</p>" +
				"<p>Losses: " + losses + "</p>" +
				"<p>Ties: " + ties + "</p>";
		document.querySelector("#game").innerHTML = html;
		});
	
	</script>

</body>
</html>